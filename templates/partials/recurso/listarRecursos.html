{% extends 'partials/_base.html' %}

{% block content %}
{% comment %} se o if abaixo estiver ativo o botão só aparece para administradores 
{% if user.is_staff %}<a href="/recurso/create/" class="btn btn-primary mb-3">Adicionar recurso</a>{% endif %} {% endcomment %} 

{% comment %} excluir o botão abaixo se o if estiver ativo {% endcomment %}

<style>

    a {
        text-decoration: none;
        color: #3498db;
    }

    table {
        border-collapse: collapse;
        width: 60%;
        margin-top: 20px;
        text-align: center;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    th, td {
        border: 2px solid #3498db;
        padding: 8px;
        
    }

    th {
        background-color: #3498db;
        color: white;
        text-align: center;
    }

    tr:nth-child(even) {
        background-color: #f2f2f2;
    }

    tr:hover {
        background-color: #d4e6f1;
    }

    td a {
        display: inline-block;
        padding: 5px 10px;
        margin: 2px;
        border-radius: 3px;
    }

    td a.edit {
        color: #fff;
        background-color: #27ae60;
        border: 1px solid #27ae60;
    }

    td a.delete {
        color: #fff;
        background-color: #e74c3c;
        border: 1px solid #e74c3c;
    }

    td a:hover {
        opacity: 0.8;
    }

    td.colspan-text {
        text-align: center;
        font-style: italic;
        color: #7f8c8d;
    }
    a.add-aluno {
    display: inline-block;
    padding: 10px 20px;
    margin: 20px;
    text-decoration: none;
    color: #fff;
    background-color: #13510e;
    border-radius: 5px;
}
    a.add-aluno:hover {
        background-color: #1f8a16;
}
.btn-editar {
    color: #fff;
    background-color: #13510e; 
}


.btn-editar:hover {
    background-color: #28a745; 
    color: #fff;
}
tr td:nth-child(2){
    width: 10%;
}
td img{
    width: 100%;
    height: auto;
}
</style>

{% if is_admin_setor %}
<a href="/recursos/create/" class="add-aluno">Adicionar recurso</a>
{% endif %}
<table class="table table-striped table-bordered mt-3">
    <thead>
        <tr>
            <th>Nome</th>
            <th>Imagem</th>
            <th>Descrição</th>
            <th>Tipo</th>
            {% comment %} <th>Data de aquisição</th> {% endcomment %}
            {% if is_admin_setor %}
                <th>Ações</th>
            {% endif %}
        </tr>
    </thead>
    <tbody>
        {% if recursos %}
        {% for recurso in recursos %}
        <tr class="{% cycle 'odd' 'even' %}">
            <td>{{ recurso.nome }}</td>
            <td><img src="{{ recurso.imagem.url }}" alt="{{ recurso.nome }}"></td>
            <td>{{ recurso.descricao }}</td>
            <td>{{ recurso.tipo }}</td>
            {% comment %} <td>{{ recurso.dataAquisicao }}</td> {% endcomment %}
            {% if is_admin_setor %}
                <td>
                    <a href="/recursos/editar/{{ recurso.id }}" class="btn btn-editar">Editar</a>
                    <a href="/recursos/deletar/confirmar/{{ recurso.id }}" class="btn btn-danger">Excluir</a>
                </td>
            {% endif %}
        </tr>
        {% endfor %}
        {% else %}
        <tr>
            <td colspan="5">Não há registros :/</td>
        </tr>
        {% endif %}
    </tbody>
</table>

{% endblock %}



